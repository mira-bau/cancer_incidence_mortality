# Cancer Incidence Mortality
A unified data parser for non-communicable disease (NCD) risk factors and cancer statistics, sourced from global health datasets.


## Overview

This project standardizes data parsing for key health indicators across multiple sources.
Each dataset outputs a consistent schema:

**Shared columns:**
- `country_id`: A unique numeric identifier for each country
- `country_name`: The official country name
- `year`: Year of the observation

Additional columns vary depending on the dataset (e.g., `tobacco_use`, `alcohol_use`, `obesity`, `new_cases/deaths`, etc.).


**NOTE: The `new_cases/deaths` column is determined by the value in the `measure` column: if measure is *Incidence*, the value represents *new_cases*; if measure is *Mortality*, it represents *deaths*.**


## Parsers

Each parser handles one data source:
- `alcohol.py` – parses alcohol consumption rates
- `cancer.py` – scrapes cancer incidence and mortality from GCO
- `smoking.py` – extracts tobacco use prevalence
- `air_pollution.py` - extracts mean annual exposure of air pollution
- `health_coverage.py` - extracts the Universal Health Coverage Index
- `gcp.py` - extracts the GDP per Capita (current US$)
- `obesity.py` - extracts the obesity rates
- `population.py` - extracts the population of countries over the years

All parsers map countries using a unified COUNTRY_MAP structure from `mapping.py`, which includes multiple name aliases for robust matching.


## Data Sources

| Dataset                             | Source                    | Link                                                                                                                                          |
| ----------------------------------- | ------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| **Cancer**                          | Global Cancer Observatory | [gco.iarc.fr](https://gco.iarc.fr/overtime/en/dataviz/trends)                                                                                 |
| **Smoking**                         | World Bank                | [data.worldbank.org](https://data.worldbank.org/indicator/SH.PRV.SMOK)                                                                        |
| **Alcohol Use**                     | World Health Organization | [who.int](https://www.who.int/data/gho/indicator-metadata-registry/imr-details/462)                                                           |
| **Air Pollution**                   | World Bank                | [data.worldbank.org](https://data.worldbank.org/indicator/EN.ATM.PM25.MC.M3)                                                                  |
| **Universal Health Coverage Index** | World Health Organization | [who.int](https://data.who.int/indicators/i/3805B1E/9A706FD)                                                                                  |
| **GDP per Capita**                  | World Bank                | [data.worldbank.org](https://data.worldbank.org/indicator/NY.GDP.PCAP.CD)                                                                     |
| **Obesity**                         | World Health Organization | [who.int](https://www.who.int/data/gho/data/indicators/indicator-details/GHO/prevalence-of-obesity-among-adults-bmi--30-(crude-estimate)-(-)) |
| **Population**                      | Kaggle                    | [kaggle.com](https://www.kaggle.com/datasets/iamsouravbanerjee/world-population-dataset)                                                      |


## Methodology

- Each dataset is parsed and normalized into the shared schema.
- Country names are resolved using `mapping.py`, which supports both official and alias names.
- For gender-specific data, values for men and women are averaged.
- Data is cleaned, filtered (e.g. years ≥ 2020), and exported to CSV.
- Missing or unmapped countries are logged for traceability.
- Final outputs are stored in the processed/ directory, ready for analysis or visualization.


## Usage

- `/processed` is the folder that contains the data for each measurement. This data is generated by running the corresponding script for each marker located in the `/markers` directory.
- `preprocessed_data.csv` is the combined dataset collected from all markers. We created it by running the `combine.py` script.
- `normalized_data.csv` is a cleaned cancer data with normalized rates, missing values filled per country, and incomplete rows dropped. We created it using the `normalization.py` script.
- `dominant_cancer_types.csv` lists the dominant cancer types with the highest incidence and mortality rates for each country. We created it using the `dominant_cancer_type.py` script.


**Re-running Parsers**

To re-run any parser script locally, make sure you have Poetry installed. Then:
1. Install dependencies:
```bash
poetry install
```


2. Navigate to the project directory
```bash
cd cancer_measures
cd markers
```

3. Run a specific parser
```bash
poetry run python <parser_name>.py
```
Example `poetry run python smoking.py`

Each parser will output a standardized CSV file into the processed/ folder.
